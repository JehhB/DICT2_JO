{% extends 'base.twig' %}
{% block head %}
<title>DICT JO - Dashboard</title>
<link rel="stylesheet" href="/styles/style2.css">
{% endblock %}
{% block header %}
<top-bar></top-bar>
{% endblock %}
{% block body %}

<div class="container mx-auto mb-4 flex px-2 sm:px-0">
  <em> Showing 1-{{ count }} of {{ count }} results </em>
  <div class="ml-auto flex items-center gap-2">
    <a
      href="/form.php"
      class="flex flex-row-reverse items-center gap-2 rounded bg-green-900 p-2 text-xs font-bold uppercase leading-none text-white"
    >
      <span class="hidden sm:block">add</span>
      <font-awesome-icon icon="fa-solid fa-plus" class="h-3 w-3" />
    </a>
    <a
      href="/summary.php"
      class="flex flex-row-reverse items-center gap-2 rounded bg-blue-950 p-2 text-xs font-bold uppercase leading-none text-white"
    >
      <span class="hidden sm:block">download csv</span>
      <font-awesome-icon icon="fa-solid fa-arrow-down" class="h-3 w-3" />
    </a>
  </div>
</div>
<div class="table-container-3">
  <div class="table-container">
    <div class="table-container-2">
      <div class="flex"></div>

      <table class="teybol">
        <thead>
          <tr>
            <th>Job Order Number</th>
            <th>Name</th>
            <th>Date</th>
            <th>Scheduled Date</th>
            <th>Issued By</th>
            <th>Approved By</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for jo in joborders %}
            <tr>
              <td data-label="Job Order Number">{{ jo.job_order_number }}</td>
              <td data-label="Name">{{ jo.client_name }}</td>
              <td data-label="Date">{{ jo.request_date | date("M d, Y") }}</td>
              <td data-label="Scheduled Date">
                {{ jo.scheduled_start_date | date("M d, Y") }}-{{ jo.scheduled_end_date | date("M d, Y") }}
              </td>
              <td data-label="Issued By">{{ jo.issued_by }}</td>
              <td data-label="Approved By">{{ jo.verifier }}</td>
              <td data-label="Status">{{ jo.status }}</td>
              <td data-label="Action">
                <form action="/form.php" class="mr-1 inline-flex">
                  <input type="hidden" name="id" value="{{ jo.job_order_id }}">
                  <button type="sumbit" class="edit-button">
                    <font-awesome-icon icon="fa-solid fa-eye" class="h-4 text-white" />
                  </button>
                </form>
                <form action="/form.php" class="inline-flex">
                  <input type="hidden" name="delete" value="{{ jo.job_order_id }}">
                  <button class="delete-button">
                    <font-awesome-icon icon="fa-solid fa-trash" class="h-4 text-white" />
                  </button>
                </form>
              </td>
            </tr>
          {% else %}
            <tr>
              <td colspan="6" class="!text-left">
                <em>No job orders found.</em>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
